<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

  const supabaseUrl = 'https://vyagabfmbyjcbslfdgua.supabase.co';
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ5YWdhYmZtYnlqY2JzbGZkZ3VhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwODk1NzIsImV4cCI6MjA2OTY2NTU3Mn0.oxIjeQSVR78X3Oi1jPg9sXYJI-YAlnMWm01VdxRHW0w';

  const supabase = createClient(supabaseUrl, supabaseKey);

  // Tomamos el par√°metro ?id= de la URL
  const urlParams = new URLSearchParams(window.location.search);
  const qrId = urlParams.get('id');

  console.log("Buscando QR:", qrId);

  async function verificarQR() {
    const { data, error } = await supabase
      .from('certificaciones')
      .select('*')
      .eq('fortune_qr', qrId);

    if (error) {
      console.error("Error al consultar Supabase:", error);
    } else {
      console.log("Resultado de la consulta:", data);
    }
  }

  verificarQR();
</script>
